build:
  gpu: true
  python_version: "3.12"
  python_packages:
    - "numpy<2"
    - "torch==2.2.2"
    - "torchaudio==2.2.2"
  run:
    # Pre-download wav2vec2 model into the Docker image so cold starts skip the download.
    - "python -c \"import torchaudio; torchaudio.pipelines.WAV2VEC2_ASR_BASE_960H.get_model()\""
  system_packages:
    - "ffmpeg"
predict: "predict.py:Predictor"
